/* Lightweight loader to ensure tocbot and its CSS are available before use. */
(function (w, d) {
  var loaded = false, queue = [];
  function fire() {
    loaded = true;
    var q = queue.slice(); queue.length = 0;
    q.forEach(function (fn) { try { fn(); } catch (e) {} });
  }
  function load() {
    if (loaded || w.tocbot) return fire();
    var link = d.createElement('link');
    link.rel = 'stylesheet';
    link.href = 'https://cdn.jsdelivr.net/npm/tocbot@4.25.0/dist/tocbot.css';
    d.head.appendChild(link);

    var s = d.createElement('script');
    s.src = 'https://cdn.jsdelivr.net/npm/tocbot@4.25.0/dist/tocbot.min.js';
    s.onload = fire;
    s.onerror = fire;
    d.head.appendChild(s);
  }
  w.__onTocbotReady = function (cb) {
    if (w.tocbot) return cb();
    queue.push(cb);
    if (!loaded) load();
  };
})(window, document);
